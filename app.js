(function(t){"use strict";t.createApp({setup(){const s=t.ref(`g g
c-a c-b
a-a a-b
ArrowUp ArrowUp ArrowDown ArrowDown ArrowLeft ArrowRight ArrowLeft ArrowRight B A`),c=t.ref(""),a=t.ref(""),n=t.ref(""),o=t.ref(""),i=t.ref(""),r=t.ref(!1);let l=[];const u=()=>{VM.shortcut.getService().setContext("input",!0)},f=()=>{VM.shortcut.getService().setContext("input",!1)};return t.watch([s,r],()=>{l.forEach(e=>e()),l=s.value.split(`
`).map(e=>e.trim()).filter(Boolean).map(e=>(console.log("register",e,r.value),VM.shortcut.register(e,()=>{t.nextTick(()=>{o.value=e})},{caseSensitive:r.value,condition:"!input"})))},{immediate:!0}),t.watch(i,()=>{o.value=""}),t.onMounted(()=>{VM.shortcut.disable(),VM.shortcut.getService().sequence.subscribe(e=>{i.value=e.join(" ")}),window.addEventListener("keydown",e=>{VM.shortcut.modifiers[e.key.toLowerCase()]||(c.value=VM.shortcut.buildKey({base:e.key,modifierState:{c:e.ctrlKey,m:e.metaKey},caseSensitive:!0}),n.value=VM.shortcut.buildKey({base:e.code,modifierState:{c:e.ctrlKey,s:e.shiftKey,a:e.altKey,m:e.metaKey},caseSensitive:!1}).replace(/^i:/,""),a.value=VM.shortcut.buildKey({base:e.key,modifierState:{c:e.ctrlKey,s:e.shiftKey,a:e.altKey,m:e.metaKey},caseSensitive:!1}).replace(/^i:/,"")),VM.shortcut.handleKey(e)})}),{version:VM.shortcut.version,commit:"e44cb5a",shortcuts:s,sequence:i,keyTriggered:o,keyExpCS:c,keyExpCI:a,keyExpCICode:n,caseSensitive:r,onFocus:u,onBlur:f}}}).mount("#app")})(Vue);
